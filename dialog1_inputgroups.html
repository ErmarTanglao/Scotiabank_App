<!--https://bootstrap-vue.js.org/docs/reference/starter-templates/

Nice Example:
https://github.com/rdegges/cryptocompare
https://developer.okta.com/blog/2017/09/06/build-a-cryptocurrency-comparison-site-with-vuejs

-->

<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <title>Bank App</title>

    <!-- Required Stylesheets -->
    <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css"/>
    <link type="text/css" rel="stylesheet" href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css"/>

    <!-- Required scripts -->
    <!--script src="https://unpkg.com/vue"></script-->

    <!--Vue.js link-->
    <script type = "text/javascript" src = "js/vue.js"></script>

    <script src="https://unpkg.com/babel-polyfill@latest/dist/polyfill.min.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
  </head>

  <body>

    <!-- Our application root element which contains all bootstrap-Vue elements -->
    <div id="app" style="background-color:green">

      <h2>Scotiabank App<b-badge>V-1</b-badge></h2>

      <b-modal v-model="modalShowExpense">
        New Entry!<br>
        You have spent {{text2}} on {{text1}}.
      </b-modal>

      <b-modal v-model="modalShowIncome">
        New Entry!<br>
        You have gained {{text4}}.
      </b-modal>


      <b-modal v-model="spendLittle">
        New Entry!<br>
        You have spent more than what you have gained.
        You should spend less money.
      </b-modal>

      <b-modal v-model="spendLots">
        New Entry!<br>
        You have spent way more than what you have gained.
        You should really spend less money.
      </b-modal>

      <!-- Tabs with card integration -->
       <b-card no-body>

          <b-tabs pills card vertical="tabIndex">

          <!-- My accounts tab -->

            <b-tab title="My Accounts">

               Deposit Accounts: <br>
               Checking:<b-card no-body class="text-left">
                ${{totalExpense}}
            </b-card>

            <hr>

            Savings:<b-card no-body class="text-left">
              ${{totalExpense}}
          </b-card>

          <hr noshade>

          Scotia Visa Infinite: <b-card no-body class="text-left">
              ${{totalExpense}}
          </b-card>

          <br>

          <b-button :size="size" :variant="variant" @click="" >
              Set Goal
         </b-button>

         <br>

             </b-tab>

               <b-tab title="Expense Entry">

                 Enter an expense: <b-form-input v-model="text1"
                               type="text"
                               placeholder="Expense goes here"></b-form-input>

                 Enter a cost: <b-form-input v-model="text2"
                               type="text"
                               placeholder="Cost goes here"></b-form-input>

                 <b-button :size="size" :variant="variant" @click="buttonEventExpense" style="background-color:red">
                      Add New Expense!
                 </b-button>

               </b-tab>

               <b-tab title="Ledger">
                   You have entered:
                   <b-table striped hover :items="items"></b-table>
               </b-tab>

               <b-tab title="List">
                 Here is the same info in a list:

                 <ol>
                   <li v-for="item in items">{{ item }}</li>
                 </ol>

               </b-tab>

           </b-tabs>
       </b-card>

       


       <!-- Control buttons-->
       <div class="text-center">
           <b-button-group class="mt-2">
             <b-btn @click="tabIndex--">Previous</b-btn>
             <b-btn @click="tabIndex++">Next</b-btn>
           </b-button-group>
           <br>
           <span class="text-muted">Current Tab: {{tabIndex}}</span>
       </div>

    </div>



    <!-- Start running your app -->
    <script>

      window.app = new Vue({
        el: "#app",
        data: {
          //Variables go here. key : value pairs. Comma separated
          tabIndex : 0,
          text1 : "",
          text2 : "",
          text3 : "",
          text4 : "",
          size : "",
          variant : "",
          modalShowExpense : false,
          modalShowIncome : false,
          spendLittle: false,
          spendLots: false,
          items : [],
          totalExpense : 500

        },
        methods: {

          //Methods go here. Comma separated
          buttonEventExpense(){

            this.modalShowExpense = !this.modalShowExpense;
            // this.spendLittle = !this.spendLittle;

            var numItems = this.items.length;
            this.items.push({input1 : this.text1, input2 : this.text2});
            this.tabIndex++;
            this.totalExpense -= Number(this.text2);
            this.differenceExpense = this.text4 - this.text2;

            if (this.differenceExpense <= 0 && this.differenceExpense >= -99){
                console.log("Spend Too Much");
                this.spendLittle = !this.spendLittle;
           }

            if (this.differenceExpense <= -100){
              console.log("Spend Way Too Much");
              this.spendLots = !this.spendLots;
            }


          },

          buttonEventIncome(){

            this.modalShowIncome = !this.modalShowIncome;

            var numItems = this.items.length;
            this.items.push({input1 : this.text3, input2 : this.text4});
            this.tabIndex++;
            this.totalExpense += Number(this.text4);


          }

        }

      })

    </script>


  </body>
</html>
